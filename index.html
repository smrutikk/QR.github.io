<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeviceDetails</title>
   
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw/dist/leaflet.draw.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="col my-1 ps-0 me-2 border border-dark">
        <div class="col" style="padding-left: 4%;">
            <form id="DeviceDetails">
                <div  class="row mt-lg-6">
                    <div class="col-6"style="margin-top: 2%;">
                       <label class="form-label">First Name</label>
                       <input type="text" class="form-control" value="" id="fname">
                    </div>
                    <div class="col-6" style="margin-top: 2%;">
                       <label class="form-label">Last Name</label>
                       <input type="text" class="form-control" value="" id="lname">
                    </div>
                    <div class="col-8" style="margin-top: 2%;">
                        <label class="form-label">Device ID</label>
                        <input type="text" class="form-control" value="" id="device_id">
                     </div> 
                    <div class="col-12" style="margin-top: 2%;">
                       <label class="form-label"> Mobile</label>
                       <input type="text" class="form-control" value="" id="mobile">
                    </div>  
                    <div class="col-12" style="margin-top: 2%;">
                        <label class="form-label">Email</label>
                        <input type="text" class="form-control" value="" id="email">
                     </div>  
                     <div class="col-12" style="margin-top: 2%;">
                        <label class="form-label">Password</label>
                        <div class="input-group">
                          <input type="password" class="form-control" value="" id="password">
                          <span class="input-group-text bg-primary">
                          <i class="bi bi-eye-slash-fill text-white"></i>
                          </span>
                       </div>
                     </div>                         
                    <div></div>
                    <br>
                    <br>
                    <button type="submit"  id="submit" value="submit" class="d-grid gap-2 col-6 mx-auto  btn btn-primary">Submit</button>
                </div>
            </form>
        </div> 
    </div>
 

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-draw"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://unpkg.com/leaflet-pip/leaflet-pip.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
<script src="app.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
    import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
  apiKey: "AIzaSyCCSv8c34NI0FwU97bEPlAfqiNWnPH4baY",
  authDomain: "band-o-bast-62496.firebaseapp.com",
  databaseURL: "https://band-o-bast-62496-default-rtdb.firebaseio.com",
  projectId: "band-o-bast-62496",
  storageBucket: "band-o-bast-62496.appspot.com",
  messagingSenderId: "856369854655",
  appId: "1:856369854655:web:19bd91f7ed0027dfd02e0a",
  measurementId: "G-E97005GMN8"
};
  
firebase.initializeApp(firebaseConfig);  // initializing firebase

///Database reference
var DeviceDetailsDB = firebase.database().ref('DeviceDetails');

document.getElementById('DeviceDetails').addEventListener('submit', submitForms);

function submitForms(e){
    e.preventDefault();

    var fname = getElementVal('fname');
    var lname = getElementVal('lname'); 
    var device_id = getElementVal('device_id');
    var mobile = getElementVal('mobile');
    var email = getElementVal('email');
    var password = getElementVal('password');

    saveMessages(fname, lname, device_id, mobile, email, password);
 }

const saveMessages = (fname, lname, device_id, mobile, email, password) => {
    var newDeviceDetails = DeviceDetailsDB.push();

    newDeviceDetails.set({
        fname: fname,
        lname: lname,
        device_id: device_id,
        mobile: mobile,
        email: email,
        password: password,
    });
};
const getElementVal = (id) => {
    return document.getElementById(id).value;
};




</script>

</body>
</html>
